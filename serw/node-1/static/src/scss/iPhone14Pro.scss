@import url(https://fonts.googleapis.com/css?family=Baloo+2:regular,500,600,700,800);

// Core variables
$primary-color: #5764c6 !default;
$primary-color-dark: darken($primary-color, 3%) !default;
$primary-color-light: lighten($primary-color, 3%) !default;
$secondary-color: lighten($primary-color, 40%) !default;
$secondary-color-dark: darken($secondary-color, 3%) !default;
$secondary-color-light: lighten($secondary-color, 3%) !default;

// Gray colors
$dark-color: #121212 !default;
$light-color: #fff !default;
$gray-color: lighten($dark-color, 40%) !default;
$gray-color-dark: darken($gray-color, 20%) !default;
$gray-color-light: lighten($gray-color, 20%) !default;

$bg-color: lighten($dark-color, 66%) !default;
$bg-color-dark: darken($bg-color, 3%) !default;
$bg-color-light: $light-color !default;

// Sizes
$layout-spacing: 0.4rem !default;
$layout-spacing-sm: 0.2rem !default;
$layout-spacing-lg: 0.8rem !default;

// Responsive breakpoints
$size-xs: 480px !default;
$size-sm: 600px !default;
$size-md: 840px !default;
$size-lg: 960px !default;
$size-xl: 1280px !default;
$size-2x: 1440px !default;

// iPhone 14 Pro
$device-purple: #342c3f;
$device-purple-dark: darken($device-purple, 10%);
$device-silver: #e2e3e4;
$device-silver-dark: darken($device-silver, 10%);
$device-black: #76726f;
$device-black-dark: darken($device-black, 10%);
$device-gold: #f6eedb;
$device-gold-dark: darken($device-gold, 15%);
$device-panel: #010101;

// Reset
.device,
.device * {
  &,
  &::before,
  &::after {
    box-sizing: border-box;
    display: block;
  }
}

.device {
  position: relative;
  transform: scale(1);
  z-index: 1;

  .device-frame {
    z-index: 1;
  }

  .device-screen {
    background-color: #000;
    background-position: center center;
    background-size: cover;
    object-fit: cover;
    position: relative;
  }
}

// iPhone 14
$device-midnight: #272c31;
$device-midnight-dark: darken($device-midnight, 10%);
$device-purple: #c8bad3;
$device-purple-dark: darken($device-purple, 10%);
$device-starlight: #d3cdc7;
$device-starlight-dark: darken($device-starlight, 10%);
$device-red: #ec302b;
$device-red-dark: darken($device-red, 10%);
$device-blue: #98abbe;
$device-blue-dark: darken($device-blue, 10%);
$device-panel: #010101;

// iphone message send gradient
$blue-gradient: linear-gradient(#0080ff 0%, #006bd6 100%);
$green-gradient: linear-gradient(#00ff00 0%, #00cc00 100%);
$red-gradient: linear-gradient(#ff0000 0%, #cc0000 100%);

.device-iphone-14 {
  height: 868px;
  width: 428px;

  .device-frame {
    z-index: 3;
    background: $device-panel;
    border: 1px solid $device-midnight-dark;
    border-radius: 68px;
    box-shadow: inset 0 0 4px 2px lighten($device-midnight, 55%),
      inset 0 0 0 6px $device-midnight;
    height: 868px;
    padding: 19px;
    width: 428px;
  }

  // 2532‑by‑1170-pixel resolution
  .device-screen {
    border-radius: 49px;
    height: 830px;
    width: 390px;
  }

  .device-stripe {
    &::after,
    &::before {
      border: solid rgba($device-panel, 0.25);
      border-width: 0 7px;
      content: "";
      height: 7px;
      left: 0;
      position: absolute;
      width: 100%;
      z-index: 9;
    }
    &::after {
      top: 85px;
    }
    &::before {
      bottom: 85px;
    }
  }

  .device-header {
    background: $device-panel;
    border-bottom-left-radius: 20px;
    border-bottom-right-radius: 20px;
    height: 30px;
    left: 50%;
    margin-left: -80px;
    position: absolute;
    top: 20px;
    width: 160px;
    z-index: 3;

    &::after,
    &::before {
      content: "";
      height: 10px;
      position: absolute;
      top: 0;
      width: 10px;
    }
    &::after {
      background: radial-gradient(
        circle at bottom left,
        transparent 0,
        transparent 75%,
        $device-panel 75%,
        $device-panel 100%
      );
      left: -10px;
    }
    &::before {
      background: radial-gradient(
        circle at bottom right,
        transparent 0,
        transparent 75%,
        $device-panel 75%,
        $device-panel 100%
      );
      right: -10px;
    }
  }

  .device-sensors {
    &::after,
    &::before {
      content: "";
      position: absolute;
    }
    &::after {
      z-index: 3;
      background: lighten($device-panel, 8%);
      border: 1px solid $device-panel;
      border-radius: 4px;
      box-shadow: 0 0 4px lighten($device-panel, 8%);
      height: 7px;
      left: 50%;
      margin-left: -35px;
      top: 8px;
      width: 70px;
    }
    &::before {
      z-index: 3;
      background: radial-gradient(
          farthest-corner at 20% 20%,
          #6074bf 0,
          transparent 40%
        ),
        radial-gradient(
          farthest-corner at 80% 80%,
          #513785 0,
          #24555e 20%,
          transparent 50%
        );
      box-shadow: 0 0 1px 1px rgba($light-color, 0.05);
      border-radius: 50%;
      height: 9px;
      left: 50%;
      margin-left: -60px;
      top: 26px;
      width: 9px;
    }
  }

  .device-btns {
    background: $device-midnight-dark;
    border-radius: 2px;
    height: 32px;
    left: -2px;
    position: absolute;
    top: 115px;
    width: 3px;

    &::after,
    &::before {
      background: $device-midnight-dark;
      border-radius: 2px;
      content: "";
      height: 62px;
      left: 0;
      position: absolute;
      width: 3px;
    }

    &::after {
      top: 60px;
    }
    &::before {
      top: 140px;
    }
  }

  .device-power {
    background: $device-midnight-dark;
    border-radius: 2px;
    height: 100px;
    right: -2px;
    position: absolute;
    top: 200px;
    width: 3px;
  }

  .device-home {
    &::after,
    &::before {
      border: solid rgba($device-panel, 0.25);
      border-width: 6px 0;
      content: "";
      height: 6px;
      position: absolute;
      width: 6px;
      z-index: 9;
    }
    &::after {
      right: 86px;
      top: 0;
    }
    &::before {
      bottom: 0;
      left: 86px;
    }
  }

  // Purple edition
  &.device-purple {
    .device-frame {
      border-color: $device-purple-dark;
      box-shadow: inset 0 0 4px 2px lighten($device-purple, 55%),
        inset 0 0 0 6px $device-purple;
    }

    .device-btns {
      background: $device-purple-dark;

      &::after,
      &::before {
        background: $device-purple-dark;
      }
    }

    .device-power {
      background: $device-purple-dark;
    }
  }

  // Starlight edition
  &.device-starlight {
    .device-frame {
      border-color: $device-starlight-dark;
      box-shadow: inset 0 0 4px 2px lighten($device-starlight, 55%),
        inset 0 0 0 6px $device-starlight;
    }

    .device-btns {
      background: $device-starlight-dark;

      &::after,
      &::before {
        background: $device-starlight-dark;
      }
    }

    .device-power {
      background: $device-starlight-dark;
    }
  }

  // Red edition
  &.device-red {
    .device-frame {
      border-color: $device-red-dark;
      box-shadow: inset 0 0 4px 2px lighten($device-red, 55%),
        inset 0 0 0 6px $device-red;
    }

    .device-btns {
      background: $device-red-dark;

      &::after,
      &::before {
        background: $device-red-dark;
      }
    }

    .device-power {
      background: $device-red-dark;
    }
  }

  // Blue edition
  &.device-blue {
    .device-frame {
      border-color: $device-blue-dark;
      box-shadow: inset 0 0 4px 2px lighten($device-blue, 55%),
        inset 0 0 0 6px $device-blue;
    }

    .device-btns {
      background: $device-blue-dark;

      &::after,
      &::before {
        background: $device-blue-dark;
      }
    }

    .device-power {
      background: $device-blue-dark;
    }
  }
}

.device-content {
  position: relative;
  z-index: 2;
  background-color: white;
}

.device-iphone-14 .device-screen {
  font-family: "Baloo 2", cursive;
  overflow: hidden;
  main {
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100%;
    .header {
      position: absolute;
      z-index: 2;
      width: 100%;
      padding-top: 36px;
      background-color: rgba($color: #383838, $alpha: 0.6);
      padding-bottom: 8px;
      display: flex;
      justify-content: center;
      backdrop-filter: blur(10px);
      h1 {
        display: block;
        margin: 0;
        padding: 0;
        font-size: 1.25rem;
        font-weight: 400;
        color: white;
      }
    }
    .body {
      flex: 1;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
    }
    .login {
      align-items: center;
      justify-content: center;
      input {
        display: block;
        background-color: #000;
        color: white;
        border: 1px solid #383838;
        border-radius: 8px;
        padding: 4px 8px;
        outline: none;
        &:focus {
          border: 1px solid #383838;
        }
      }
      button {
        margin-top: 12px;
        display: block;
        background: $blue-gradient;
        color: white;
        border: none;
        outline: none;
        padding: 4px 8px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s ease-in-out;
        &:hover {
          padding: 4px 10px;
        }
      }
    }
    .msg {
      flex: 1;
      display: flex;
      align-items: center;
      flex-direction: column-reverse;
      justify-content: flex-end;
      row-gap: 16px;
      height: calc(100% - 76px);
      .messages {
        width: 100%;
        position: relative;
        overflow: scroll;
        overflow-x: hidden;
        &::-webkit-scrollbar-track {
          -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
          border-radius: 10px;
        }

        &::-webkit-scrollbar {
          width: 4px;
        }

        &::-webkit-scrollbar-thumb {
          border-radius: 10px;
          width: 2px;
          -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
          background-color: #383838;
        }

        flex: 1;
        padding-top: 76px;
        .messages-inner {
          display: flex;
          flex-direction: column;
          row-gap: 16px;
          padding: 0 16px;
        }
        .message {
          background-color: #222222;
          border-radius: 16px;
          max-width: 200px;
          word-break: break-all;
          width: max-content;
          padding: 4px 12px;
          color: white;
          display: flex;
          flex-direction: column;
          overflow-wrap: break-word;
          word-wrap: break-word;
          -ms-word-break: break-all;
          word-break: break-word;
          .message-info {
            display: flex;
            justify-content: space-between;
            column-gap: 8px;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.603);
            position: relative;
          }
          &.outgoing {
            align-self: flex-end;
            background: $blue-gradient;
          }
          &.connect {
            background: $green-gradient;
          }
          &.disconnect {
            background: $red-gradient;
          }
        }
      }
      .input {
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 90%;
        padding-bottom: 16px;
        input {
          width: 100%;
          background-color: #000;
          color: white;
          border: 1px solid #383838;
          border-radius: 8px;
          padding: 4px 8px;
          outline: none;
          &:focus {
            border: 1px solid #383838;
          }
        }
        button {
          margin-left: 12px;
          display: block;
          background: $blue-gradient;
          color: white;
          border: none;
          outline: none;
          padding: 4px 8px;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s ease-in-out;
        }
      }
    }
  }
}
